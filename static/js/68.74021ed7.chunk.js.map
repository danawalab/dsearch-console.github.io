{"version":3,"sources":["pages/cluster/index.js"],"names":["Card","styled","MuiCard","spacing","Divider","MuiDivider","Grid","MuiGrid","useStyles","makeStyles","title","fontWeight","addCardButton","border","ClusterCard","classes","cluster","onEditClick","onRemoveClick","to","newTo","showMenu","connection","name","seed","theme","nodes","indices","shards","store","kibana","console","log","Object","keys","length","React","useState","openMenu","setOpenMenu","open","Boolean","handleClose","event","stopPropagation","item","xs","md","lg","xl","variant","style","cursor","minHeight","onClick","className","align","position","height","right","top","size","display","currentTarget","id","anchorEl","keepMounted","onClose","PaperProps","maxHeight","ITEM_HEIGHT","width","my","container","mt","whiteSpace","Number","toLocaleString","backgroundColor","borderRadius","component","color","AddClusterCard","props","showButton","Fragment","justifyContent","m","aria-label","handleClick","AddGuideCard","target","href","connect","clusterReducers","dsearchReducers","dispatch","clusterList","authUser","fullScreen","useMediaQuery","useTheme","breakpoints","down","openEditModal","setOpenEditModal","scheme","setScheme","setName","host","setHost","port","setPort","username","setUsername","password","setPassword","setKibana","setTheme","modalMessage","setModalMessage","connTest","setConnTest","nameError","setNameError","hostError","setHostError","portError","setPortError","usernameError","setUsernameError","passwordError","setPasswordError","selectedClusterId","setSelectedClusterId","openRemoveModal","setOpenRemoveModal","mode","setMode","isProcess","setProcess","toggleOpenAddModal","resetError","requireValidation","toggleOpenEditModal","useEffect","setClusterList","isManager","gutterBottom","map","key","link","document","createElement","setAttribute","body","appendChild","click","goDashboard","window","outerWidth","outerHeight","Math","ceil","goNewDashboard","fullWidth","aria-setsize","placeholder","value","error","onChange","type","setClusterStatus","then","status","nodeSize","values","node","tmp","filter","addr","catch","url","startsWith","axios","get","timeout","response","data","headers","request","message","disabled","addCluster","alert","editCluster","red","removeClusterAction"],"mappings":"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","file":"static/js/68.74021ed7.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {makeStyles, useTheme} from '@material-ui/core/styles';\r\nimport styled from \"styled-components\";\r\n\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport LaunchIcon from '@material-ui/icons/Launch';\r\nimport Helmet from 'react-helmet';\r\nimport {title} from \"../../title.json\";\r\nimport {\r\n    Box,\r\n    Button,\r\n    Card as MuiCard,\r\n    CardContent,\r\n    Divider as MuiDivider,\r\n    Fab,\r\n    Grid as MuiGrid,\r\n    Link,\r\n    MenuList,\r\n    Select,\r\n    TextField,\r\n    Typography\r\n} from \"@material-ui/core\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert'\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport {spacing} from \"@material-ui/system\";\r\nimport {\r\n    addCluster,\r\n    editCluster,\r\n    removeClusterAction,\r\n    setClusterList,\r\n    setClusterStatus\r\n} from \"../../redux/actions/clusterActions\";\r\nimport {red} from \"@material-ui/core/colors\";\r\nimport axios from \"axios\";\r\n\r\nconst Card = styled(MuiCard)(spacing);\r\nconst Divider = styled(MuiDivider)(spacing);\r\nconst Grid = styled(MuiGrid)(spacing);\r\n\r\nconst useStyles = makeStyles({\r\n    title: {\r\n        fontWeight: \"bold\"\r\n    },\r\n    addCardButton: {\r\n        border: \"1px solid\"\r\n    }\r\n});\r\n\r\nconst ITEM_HEIGHT = 48;\r\n\r\nfunction ClusterCard({classes, cluster, onEditClick, onRemoveClick, to, newTo, showMenu}) {\r\n    const connection = cluster['status']['connection'] || false\r\n    const name = cluster['cluster']['name']\r\n    const seed = `${cluster['cluster']['scheme']}://${cluster['cluster']['host']}:${cluster['cluster']['port']}`\r\n    const theme = cluster['cluster']['theme']\r\n    let nodes = \"N/A\"\r\n    let indices = \"N/A\"\r\n    let shards = \"N/A\"\r\n    let store = \"N/A\"\r\n    let kibana = \"N/A\"\r\n    console.log(cluster);\r\n    if (connection) {\r\n        nodes = Object.keys((cluster['status']||{})['nodes']||{}).length\r\n        indices = cluster['status']['state']['indices']\r\n        shards = cluster['status']['state']['shards']\r\n        store = cluster['status']['state']['store']\r\n        kibana = cluster['cluster']['kibana']\r\n    }\r\n\r\n    const [openMenu, setOpenMenu] = React.useState(null);\r\n    const open = Boolean(openMenu);\r\n\r\n    const handleClick = (event) => {\r\n        event.stopPropagation()\r\n        setOpenMenu(event.currentTarget);\r\n    };\r\n    const handleClose = (event) => {\r\n        event.stopPropagation()\r\n        setOpenMenu(null);\r\n    };\r\n\r\n    const handleEdit = (event) => {\r\n        event.stopPropagation()\r\n        onEditClick(cluster)\r\n        handleClose(event)\r\n    }\r\n    const handleRemove = (event) => {\r\n        event.stopPropagation()\r\n        onRemoveClick(cluster)\r\n        handleClose(event)\r\n    }\r\n\r\n    return (\r\n        <Grid item xs={12} md={6} lg={4} xl={3}>\r\n            <Card variant=\"outlined\" style={{cursor: \"pointer\"}}>\r\n                    <CardContent>\r\n                        <Box style={{minHeight: \"200px\"}} onClick={to}>\r\n\r\n                            <Box className={classes.title} align={\"center\"}>\r\n                                {name}\r\n                                <Box style={{position: \"relative\", height: \"0px\", right: \"-45%\", top: \"15px\"}}>\r\n                                    <IconButton\r\n                                        onClick={newTo}\r\n                                        size={\"small\"}\r\n                                    >\r\n                                        <LaunchIcon />\r\n                                    </IconButton>\r\n                                </Box>\r\n\r\n                                <Box style={{position: \"relative\", height: \"0px\", right: \"-45%\", top: \"-25px\", display: showMenu ? \"block\" : \"none\"}}>\r\n\r\n                                    <IconButton\r\n                                        onClick={handleClick}\r\n                                        size={\"small\"}\r\n                                    >\r\n                                        <MoreVertIcon />\r\n                                    </IconButton>\r\n                                    <Menu\r\n                                        id=\"long-menu\"\r\n                                        anchorEl={openMenu}\r\n                                        keepMounted\r\n                                        open={open}\r\n                                        onClose={handleClose}\r\n                                        PaperProps={{\r\n                                            style: {\r\n                                                maxHeight: ITEM_HEIGHT * 4.5,\r\n                                                width: '20ch',\r\n                                            },\r\n                                        }}\r\n                                    >\r\n                                        <MenuItem onClick={handleEdit}> 수정 </MenuItem>\r\n                                        <MenuItem onClick={handleRemove}> 삭제 </MenuItem>\r\n                                    </Menu>\r\n\r\n                                </Box>\r\n                            </Box>\r\n\r\n\r\n                            <Divider my={2} />\r\n\r\n                            <Grid container mt={3}>\r\n                                <Grid item xs={4}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        노드\r\n                                    </Box>\r\n                                </Grid>\r\n                                <Grid item xs={8}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        {seed}\r\n                                    </Box>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid container mt={1}>\r\n                                <Grid item xs={4}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        노드 수\r\n                                    </Box>\r\n                                </Grid>\r\n                                <Grid item xs={8}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        {nodes ? Number(nodes).toLocaleString() : \"-\"}\r\n                                    </Box>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid container mt={1}>\r\n                                <Grid item xs={4}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        인덱스\r\n                                    </Box>\r\n                                </Grid>\r\n                                <Grid item xs={8}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        {indices ? Number(indices).toLocaleString() : \"-\"}\r\n                                    </Box>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid container mt={1}>\r\n                                <Grid item xs={4}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        샤드\r\n                                    </Box>\r\n                                </Grid>\r\n                                <Grid item xs={8}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        {shards ? Number(shards).toLocaleString() : \"-\"}\r\n                                    </Box>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid container mt={1}>\r\n                                <Grid item xs={4}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        사용 용량\r\n                                    </Box>\r\n                                </Grid>\r\n                                <Grid item xs={8}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        {store}\r\n                                    </Box>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid container mt={1}>\r\n                                <Grid item xs={4}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        키바나\r\n                                    </Box>\r\n                                </Grid>\r\n                                <Grid item xs={8}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        {kibana}\r\n                                    </Box>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid container mt={1}>\r\n                                <Grid item xs={4}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        색상\r\n                                    </Box>\r\n                                </Grid>\r\n                                <Grid item xs={8}>\r\n                                    <Box style={{ display: theme === \"0\" ? \"block\" : \"none\", backgroundColor: \"rgb(27, 36, 48)\", width: \"16px\", height: \"16px\", borderRadius: \"90px\"}}> </Box>\r\n                                    <Box style={{ display: theme === \"1\" ? \"block\" : \"none\", backgroundColor: \"rgb(255, 255, 255)\", width: \"16px\", height: \"16px\", borderRadius: \"90px\"}}> </Box>\r\n                                    <Box style={{ display: theme === \"2\" ? \"block\" : \"none\", backgroundColor: \"rgb(25, 118, 210)\", width: \"16px\", height: \"16px\", borderRadius: \"90px\"}}> </Box>\r\n                                    <Box style={{ display: theme === \"3\" ? \"block\" : \"none\", backgroundColor: \"rgb(56, 142, 60)\", width: \"16px\", height: \"16px\", borderRadius: \"90px\"}}> </Box>\r\n                                    <Box style={{ display: theme === \"4\" ? \"block\" : \"none\", backgroundColor: \"rgb(57, 73, 171)\", width: \"16px\", height: \"16px\", borderRadius: \"90px\"}}> </Box>\r\n                                    <Box style={{ display: theme === \"5\" ? \"block\" : \"none\", backgroundColor: \"rgb(0, 121, 107)\", width: \"16px\", height: \"16px\", borderRadius: \"90px\"}}> </Box>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid container mt={1}>\r\n                                <Grid item xs={4}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        연결상태\r\n                                    </Box>\r\n                                </Grid>\r\n                                <Grid item xs={8}>\r\n                                    <Box style={{whiteSpace: \"nowrap\"}}>\r\n                                        {connection ?\r\n                                            <Box component={\"span\"} style={{color: \"green\"}}>정상</Box>\r\n                                            :\r\n                                            <Box component={\"span\"} style={{color: \"red\"}}>실패</Box>\r\n                                        }\r\n                                    </Box>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Box>\r\n\r\n                    </CardContent>\r\n            </Card>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nfunction AddClusterCard(props) {\r\n    const classes = props.className\r\n    const display = props.showButton ? \"block\" : \"none\"\r\n    return (\r\n        <React.Fragment>\r\n            <Grid item xs={12} md={6} lg={4} xl={3} style={{display: display}}>\r\n                {/* <Card variant=\"outlined\" style={{minHeight: \"245px\"}}> */}\r\n                <Card variant=\"outlined\" style={{minHeight: \"269px\"}}>\r\n                    <CardContent>\r\n                        <Box display=\"flex\"\r\n                             justifyContent=\"center\"\r\n                             m={1}\r\n                             mt={10}\r\n                             className={classes.title}\r\n                        >\r\n                            신규 클러스터 추가\r\n                        </Box>\r\n                        <Box display=\"flex\"\r\n                             justifyContent=\"center\"\r\n                             m={2}\r\n                             mt={5}\r\n                        >\r\n                            <Fab color=\"primary\"\r\n                                 aria-label=\"add\"\r\n                                 onClick={() => props.handleClick()}\r\n                            >\r\n                                <AddIcon />\r\n                            </Fab>\r\n                        </Box>\r\n                    </CardContent>\r\n                </Card>\r\n            </Grid>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nfunction AddGuideCard(props) {\r\n    const classes = props.className\r\n    return (\r\n        <Grid item xs={12} md={6} lg={4} xl={3}>\r\n            <Card variant=\"outlined\" style={{minHeight: \"269px\"}}>\r\n            {/* <Card variant=\"outlined\" style={{minHeight: \"245px\"}}> */}\r\n                <CardContent>\r\n                    <Box display=\"flex\"\r\n                         justifyContent=\"center\"\r\n                         m={1}\r\n                         mt={15}\r\n                         className={classes.title}\r\n                    >\r\n                        {title} 서버설치방법\r\n                    </Box>\r\n                    <Box display=\"flex\"\r\n                         justifyContent=\"center\"\r\n                         m={3}\r\n                    >\r\n                        <Link target=\"_blank\" href=\"https://github.com/danawalab/dsearch-server/blob/master/README.md\">\r\n                            바로가기\r\n                        </Link>\r\n                    </Box>\r\n                </CardContent>\r\n            </Card>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nfunction Cluster({ dispatch, clusterList, authUser }) {\r\n    const classes = useStyles();\r\n    const fullScreen = useMediaQuery(useTheme().breakpoints.down('sm'));\r\n    const [openEditModal, setOpenEditModal] = useState(false);\r\n\r\n    const [scheme, setScheme] = useState(\"http\")\r\n    const [name, setName] = useState(\"\")\r\n    const [host, setHost] = useState(\"\")\r\n    const [port, setPort] = useState(\"\")\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [kibana, setKibana] = useState(\"\")\r\n    const [theme, setTheme] = useState(0)\r\n    const [modalMessage, setModalMessage] = useState(\"\")\r\n    const [connTest, setConnTest] = useState(false)\r\n\r\n    const [nameError, setNameError] = useState(false)\r\n    const [hostError, setHostError] = useState(false)\r\n    const [portError, setPortError] = useState(false)\r\n    const [usernameError, setUsernameError] = useState(false)\r\n    const [passwordError, setPasswordError] = useState(false)\r\n\r\n    const [selectedClusterId, setSelectedClusterId] = useState(\"\")\r\n    const [openRemoveModal, setOpenRemoveModal] = useState(false)\r\n\r\n    const [mode, setMode] = useState(\"ADD\")\r\n\r\n    const [isProcess, setProcess] = useState(false)\r\n\r\n    useEffect(() => {\r\n        dispatch(setClusterList())\r\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    function toggleOpenAddModal() {\r\n        setProcess(false)\r\n        setMode(\"ADD\")\r\n        setNameError(false); setHostError(false); setPortError(false)\r\n        setUsernameError(false); setPasswordError(false)\r\n        setName(\"\"); setScheme(\"http\"); setHost(\"\"); setPort(\"\");\r\n        setUsername(\"\"); setPassword(\"\"); setKibana(\"\");\r\n        setTheme(0); setModalMessage(\"\");\r\n        setConnTest(false)\r\n        setOpenEditModal(!openEditModal)\r\n    }\r\n    function handleClusterTestProcess() {\r\n        setConnTest(false)\r\n        setModalMessage(\"\")\r\n        dispatch(setClusterStatus({ name, host, port, scheme, username, password })).then(status => {\r\n            if (!status['connection']) {\r\n                setConnTest(false)\r\n                setModalMessage(\"연결 실패\")\r\n                return\r\n            }\r\n            setConnTest(true)\r\n            const nodeSize = Object.values(status['nodes']).map(node => {\r\n                const tmp = ((node['http'] || node['http']) || {})\r\n                return tmp['publish_address'] ? `${scheme}://${tmp['publish_address']}` : null\r\n            }).filter(addr => addr !== null).length\r\n            setModalMessage(\"[연결 성공] 노드 수:\" + nodeSize)\r\n        }).catch(error => {\r\n            setConnTest(false)\r\n            setModalMessage(\"\")\r\n            setModalMessage(\"연결 실패\")\r\n            console.error(error)\r\n        })\r\n    }\r\n\r\n    function handleKibanaTestProcess() {\r\n        // setConnTest(false)\r\n        // setModalMessage(\"\")\r\n        let url = \"\";\r\n        if( kibana.startsWith(\"http://\") || kibana.startsWith(\"https://\")){\r\n            url = kibana + \"/api/status\";\r\n        }else{\r\n            url = \"http://\" + kibana + \"/api/status\";\r\n        }\r\n        \r\n        axios.get(`${url}`, {\r\n            timeout: 3000\r\n        }).then((response) => {\r\n            let status = response.data;\r\n            console.log(\"status: \", status);\r\n            if(status['status']['overall']['state'] === \"green\"){\r\n                setModalMessage(\"[연결 성공] 키바나 \");\r\n            }else{\r\n                setModalMessage(\"[연결 실패] 키바나 상태 불안정\");\r\n            }\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                // 요청이 이루어졌으며 서버가 2xx의 범위를 벗어나는 상태 코드로 응답했습니다.\r\n                console.log(\"data: \", error.response.data);\r\n                console.log(\"status: \",error.response.status);\r\n                console.log(\"header: \",error.response.headers);\r\n                setModalMessage(\"\");\r\n                setModalMessage(\"[연결 성공] 키바나\");\r\n              }\r\n              else if (error.request) {\r\n                // 요청이 이루어 졌으나 응답을 받지 못했습니다.\r\n                // `error.request`는 브라우저의 XMLHttpRequest 인스턴스 또는\r\n                // Node.js의 http.ClientRequest 인스턴스입니다.\r\n                console.log(\"req: \",error.request);\r\n                setModalMessage(\"\");\r\n                setModalMessage(\"[연결 성공] 키바나\");\r\n              }\r\n              else {\r\n                // 오류를 발생시킨 요청을 설정하는 중에 문제가 발생했습니다.\r\n                setModalMessage(\"\");\r\n                setModalMessage(\"[연결 실패] 키바나\");\r\n                console.log('Error', error.message);\r\n              }\r\n            //   console.log(error.config);\r\n            \r\n        });\r\n       \r\n    }\r\n\r\n    function resetError() {\r\n        setNameError(false); setHostError(false); setPortError(false)\r\n        setUsernameError(false); setPasswordError(false)\r\n    }\r\n    function requireValidation() {\r\n        if (name === \"\") { setNameError(true); return false }\r\n        if (host === \"\") { setHostError(true); return false }\r\n        if (port === \"\" || port === \"0\") { setPortError(true); return false }\r\n        if (scheme === \"https\") {\r\n            if (username === \"\") { setUsernameError(true); return false }\r\n            if (password === \"\") { setPasswordError(true); return false }\r\n        }\r\n        if (!connTest) { return false }\r\n        return true\r\n    }\r\n    function handleAddClusterProcess() {\r\n        setProcess(true)\r\n        resetError()\r\n        if(!requireValidation()) {\r\n            return false\r\n        }\r\n\r\n        dispatch(addCluster({\r\n            name, host, port, scheme,\r\n            username, password,\r\n            kibana, theme\r\n        })).then(cluster => {\r\n            setProcess(false)\r\n            dispatch(setClusterList())\r\n            toggleOpenAddModal()\r\n        }).catch(error => {\r\n            setProcess(false)\r\n            console.log(error)\r\n            setModalMessage(error.message||\"error\")\r\n            alert(\"실패\")\r\n        })\r\n    }\r\n\r\n    function handleEditClusterProcess() {\r\n        resetError()\r\n        if(!requireValidation()) {\r\n            return false\r\n        }\r\n\r\n        dispatch(editCluster(selectedClusterId, {\r\n            name, host, port, scheme,\r\n            username, password,\r\n            kibana, theme\r\n        })).then(cluster => {\r\n            dispatch(setClusterList())\r\n            toggleOpenEditModal()\r\n        }).catch(error => {\r\n            console.log(error)\r\n            setModalMessage(error.message||\"error\")\r\n            alert(\"실패\")\r\n        })\r\n    }\r\n\r\n    function toggleOpenEditModal(cluster) {\r\n        setMode(\"EDIT\")\r\n        console.log('edit', cluster)\r\n        setNameError(false); setHostError(false); setPortError(false)\r\n        setUsernameError(false); setPasswordError(false)\r\n        if (!openEditModal) {\r\n            // opening..\r\n            setSelectedClusterId(cluster['cluster']['id'])\r\n            setName(cluster['cluster']['name']);\r\n            setScheme(cluster['cluster']['scheme']);\r\n            setHost(cluster['cluster']['host']);\r\n            setPort(cluster['cluster']['port']);\r\n            setUsername(cluster['cluster']['username'] || \"\");\r\n            setPassword(cluster['cluster']['password'] || \"\");\r\n            setKibana(cluster['cluster']['kibana'] || \"\");\r\n            setTheme(cluster['cluster']['theme']);\r\n        } else {\r\n            setName(\"\"); setScheme(\"http\"); setHost(\"\"); setPort(\"\");\r\n            setUsername(\"\"); setPassword(\"\"); setKibana(\"\");\r\n            setTheme(0);\r\n        }\r\n        setOpenEditModal(!openEditModal)\r\n    }\r\n\r\n    function toggleOpenRemoveModal(id) {\r\n        setSelectedClusterId(id)\r\n        setOpenRemoveModal(true)\r\n    }\r\n\r\n    function removeClusterProcess() {\r\n        dispatch(removeClusterAction(selectedClusterId)).then(cluster => {\r\n            dispatch(setClusterList())\r\n            setSelectedClusterId(\"\")\r\n            setOpenRemoveModal(false)\r\n        }).catch(error => {\r\n            console.log(error)\r\n            alert(\"실패\")\r\n        })\r\n    }\r\n    function goDashboard(id) {\r\n        const link = document.createElement('a');\r\n        link.setAttribute(\"href\", `${id}/dashboard`)\r\n        link.setAttribute(\"target\", \"_blank\")\r\n        document.body.appendChild(link);\r\n        link.click()\r\n    }\r\n\r\n    function goNewDashboard(event, id) {\r\n        event.stopPropagation()\r\n        let width = window.outerWidth\r\n        let height = window.outerHeight\r\n\r\n        width = Math.ceil(width / 2) <= 1500 ? 1500 : Math.ceil(width / 2)\r\n        height = (Math.ceil(height / 2) <= 900 ? 900 : Math.ceil(height / 2))\r\n\r\n        window.open(`${id}/dashboard`,id,`location=no,directories=no,resizable=no,status=no,toolbar=no,menubar=no,left=${window.outerWidth / 5},top=50,scrollbars=yes,width=${width},height=${height}`)\r\n    }\r\n\r\n    const isManager = authUser['role']['manage']\r\n\r\n    return (\r\n        <React.Fragment>\r\n            \r\n            <Helmet title=\"클러스터\"/>\r\n            <Typography variant=\"h3\" gutterBottom display=\"inline\">\r\n                클러스터\r\n            </Typography>\r\n            <Divider my={6}/>\r\n\r\n            <Grid container spacing={6}>\r\n\r\n                {clusterList.map(cluster => <ClusterCard key={cluster['cluster']['id']}\r\n                                                         cluster={cluster}\r\n                                                         classes={classes}\r\n                                                         onEditClick={() => toggleOpenEditModal(cluster)}\r\n                                                         onRemoveClick={() => toggleOpenRemoveModal(cluster['cluster']['id'])}\r\n                                                         to={() => goDashboard(cluster['cluster']['id'])}\r\n                                                         newTo={event => goNewDashboard(event, cluster['cluster']['id'])}\r\n                                                         showMenu={isManager}\r\n                />)}\r\n\r\n                <AddClusterCard key={\"add\"}\r\n                                className={classes}\r\n                                handleClick={toggleOpenAddModal}\r\n                                showButton={isManager}\r\n                />\r\n\r\n                <AddGuideCard key={\"guide\"}\r\n                              className={classes}\r\n                />\r\n\r\n            </Grid>\r\n\r\n\r\n            {/*        추가         */}\r\n            <Dialog\r\n                fullScreen={fullScreen}\r\n                open={openEditModal}\r\n                onClose={toggleOpenAddModal}\r\n                fullWidth={true}\r\n            >\r\n                <DialogTitle>\r\n                    클러스터 {mode === \"ADD\" ? \"추가\" : \"수정\"}\r\n                </DialogTitle>\r\n                <DialogContent aria-setsize={500}>\r\n\r\n                    <Grid container>\r\n                        <Grid item xs={4}>\r\n                            <Box align={\"center\"} mt={2}>이름</Box>\r\n                        </Grid>\r\n                        <Grid item xs={8}>\r\n                            <TextField placeholder={\"운영 클러스터\"}\r\n                                       value={name}\r\n                                       error={nameError}\r\n                                       onChange={event => setName(event.target.value)}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Divider my={3} />\r\n\r\n                    <Grid container>\r\n                        <Grid item xs={4}>\r\n                            <Box align={\"center\"} mt={2}>접속정보</Box>\r\n                        </Grid>\r\n                        <Grid item xs={8}>\r\n                            <Box>\r\n                                <Select value={scheme}\r\n                                        onChange={event => setScheme(event.target.value)}\r\n                                        fullWidth\r\n                                >\r\n                                    <MenuList variant={\"menu\"} value={\"http\"}>HTTP</MenuList>\r\n                                    <MenuList variant={\"menu\"} value={\"https\"}>HTTPS</MenuList>\r\n                                </Select>\r\n                            </Box>\r\n                            <Box mt={2}>\r\n                                <TextField placeholder=\"127.0.0.1\"\r\n                                           fullWidth\r\n                                           value={host}\r\n                                           error={hostError}\r\n                                           onChange={event => setHost(event.target.value)}\r\n                                />\r\n                            </Box>\r\n                            <Box mt={2}>\r\n                                <TextField placeholder=\"9200\"\r\n                                           fullWidth\r\n                                           type=\"number\"\r\n                                           value={port}\r\n                                           error={portError}\r\n                                           onChange={event => setPort(event.target.value)}\r\n                                />\r\n                            </Box>\r\n                            <Box display={scheme === \"http\" ? \"none\" : \"block\"}>\r\n                                <Box mt={2}>\r\n                                    <TextField placeholder=\"elastic\"\r\n                                               fullWidth\r\n                                               error={usernameError}\r\n                                               value={username}\r\n                                               onChange={event => setUsername(event.target.value)}\r\n                                    />\r\n                                </Box>\r\n                                <Box mt={2}>\r\n                                    <TextField type=\"password\"\r\n                                               placeholder=\"********\"\r\n                                               fullWidth\r\n                                               error={passwordError}\r\n                                               value={password}\r\n                                               onChange={event => setPassword(event.target.value)}\r\n\r\n                                    />\r\n                                </Box>\r\n                            </Box>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Divider my={3} />\r\n\r\n                    <Grid container>\r\n                        <Grid item xs={4}>\r\n                            <Box align={\"center\"} mt={2}>키바나</Box>\r\n                        </Grid>\r\n                        <Grid item xs={8}>\r\n                            <Box>\r\n                                <TextField placeholder=\"http://kibana:5601\"\r\n                                           fullWidth\r\n                                           value={kibana}\r\n                                           onChange={event => setKibana(event.target.value)}\r\n                                />\r\n                            </Box>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Grid container>\r\n                        <Grid item xs={4}>\r\n                            <Box align={\"center\"} mt={4}>색상</Box>\r\n                        </Grid>\r\n                        <Grid item xs={8}>\r\n                            <Box mt={2}>\r\n                                <Select value={theme}\r\n                                        onChange={event => setTheme(event.target.value)}\r\n                                        style={{width: \"100%\"}}\r\n                                >\r\n                                    <MenuList value={0} style={{width: \"100%\", backgroundColor: \"rgb(27, 36, 48)\"}}>\r\n                                        <Box style={{width: \"100%\", backgroundColor: \"rgb(27, 36, 48)\", color: \"white\"}}> Dark </Box>\r\n                                    </MenuList>\r\n                                    <MenuList value={1} style={{width: \"100%\", backgroundColor: \"rgb(255, 255, 255)\", color: \"black\"}}>\r\n                                        <Box style={{width: \"100%\", backgroundColor: \"rgb(255, 255, 255)\", color: \"black\"}}> Light </Box>\r\n                                    </MenuList>\r\n                                    <MenuList value={2} style={{width: \"100%\", backgroundColor: \"rgb(25, 118, 210)\", color: \"white\"}}>\r\n                                        <Box style={{width: \"100%\", backgroundColor: \"rgb(25, 118, 210)\", color: \"white\"}}> Blue </Box>\r\n                                    </MenuList>\r\n                                    <MenuList value={3} style={{width: \"100%\", backgroundColor: \"rgb(56, 142, 60)\", color: \"white\"}}>\r\n                                        <Box style={{width: \"100%\", backgroundColor: \"rgb(56, 142, 60)\", color: \"white\"}}> Green </Box>\r\n                                    </MenuList>\r\n                                    <MenuList value={4} style={{width: \"100%\", backgroundColor: \"rgb(57, 73, 171)\", color: \"white\"}}>\r\n                                        <Box style={{width: \"100%\", backgroundColor: \"rgb(57, 73, 171)\", color: \"white\"}}> Indigo </Box>\r\n                                    </MenuList>\r\n                                    <MenuList value={5} style={{width: \"100%\", backgroundColor: \"rgb(0, 121, 107)\", color: \"white\"}}>\r\n                                        <Box style={{width: \"100%\", backgroundColor: \"rgb(0, 121, 107)\", color: \"white\"}}> Teal </Box>\r\n                                    </MenuList>\r\n                                </Select>\r\n                            </Box>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <br/>\r\n                    <Box display={modalMessage === \"\" ? \"none\" : \"block\"}>\r\n                        {modalMessage}\r\n                    </Box>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button variant={\"outlined\"} color={\"primary\"} onClick={handleClusterTestProcess}> 연결테스트 </Button>\r\n                    <Button variant={\"outlined\"} color={\"primary\"} style={{color: \"#EE0000\"}} onClick={handleKibanaTestProcess}> 키바나테스트 </Button>\r\n                    <Box display={mode === \"ADD\" ? \"block\" : \"none\"}>\r\n                        <Button color=\"primary\"\r\n                                variant=\"contained\"\r\n                                disabled={!connTest || isProcess}\r\n                                onClick={handleAddClusterProcess}\r\n                        >\r\n                            추가\r\n                        </Button>\r\n                    </Box>\r\n                    <Box display={mode === \"EDIT\" ? \"block\" : \"none\"}>\r\n                        <Button color=\"primary\"\r\n                                variant=\"contained\"\r\n                                disabled={!connTest}\r\n                                onClick={handleEditClusterProcess}\r\n                        >\r\n                            저장\r\n                        </Button>\r\n                    </Box>\r\n                    <Button onClick={toggleOpenAddModal}\r\n                            variant=\"contained\"\r\n                    >\r\n                        취소\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n\r\n            {/*    삭제     */}\r\n\r\n            <Dialog open={openRemoveModal} fullWidth={true}>\r\n                <DialogTitle>클러스터 삭제</DialogTitle>\r\n             <DialogContent>\r\n                 <Box style={{color: red['500']}}> 선택하신 클러스터 삭제 하시겠습니까? </Box>\r\n             </DialogContent>\r\n                <DialogActions>\r\n                    <Button style={{backgroundColor: red['200']}}\r\n                            variant=\"contained\"\r\n                            onClick={removeClusterProcess}\r\n                    >\r\n                        삭제\r\n                    </Button>\r\n                    <Button onClick={() => setOpenRemoveModal(false)}\r\n                            variant=\"contained\"\r\n                    >\r\n                        취소\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n\r\n\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default connect(store => ({ ...store.clusterReducers, ...store.dsearchReducers }))(Cluster);\r\n\r\n"],"sourceRoot":""}