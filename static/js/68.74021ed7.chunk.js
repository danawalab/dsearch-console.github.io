(this["webpackJsonpdsearch-console"]=this["webpackJsonpdsearch-console"]||[]).push([[68],{1371:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(59),l=a(0),c=a.n(l),o=a(36),i=a(688),s=a(37),m=a(11),u=a(1011),d=a.n(u),h=a(719),E=a(722),p=a(721),b=a(720),g=a(567),f=a(1008),y=a.n(f),w=a(130),k=a.n(w),j=a(293),x=a(674),O=a(712),v=a(648),C=a(675),S=a(598),N=a(1010),W=a(718),A=a(170),D=a(703),R=a(999),T=a(566),P=a(607),M=a(603),H=a(1009),B=a.n(H),L=a(597),z=a(604),_=a(661),q=a(202),I=a(155),F=a(296),J=a.n(F),G=Object(m.c)(x.a)(_.a),U=Object(m.c)(O.a)(_.a),K=Object(m.c)(v.a)(_.a),Q=Object(i.a)({title:{fontWeight:"bold"},addCardButton:{border:"1px solid"}});function V(e){var t=e.classes,a=e.cluster,n=e.onEditClick,l=e.onRemoveClick,o=e.to,i=e.newTo,s=e.showMenu,m=a.status.connection||!1,u=a.cluster.name,d="".concat(a.cluster.scheme,"://").concat(a.cluster.host,":").concat(a.cluster.port),h=a.cluster.theme,E="N/A",p="N/A",b="N/A",g="N/A",f="N/A";console.log(a),m&&(E=Object.keys((a.status||{}).nodes||{}).length,p=a.status.state.indices,b=a.status.state.shards,g=a.status.state.store,f=a.cluster.kibana);var w=c.a.useState(null),k=Object(r.a)(w,2),j=k[0],x=k[1],O=Boolean(j),v=function(e){e.stopPropagation(),x(null)};return c.a.createElement(K,{item:!0,xs:12,md:6,lg:4,xl:3},c.a.createElement(G,{variant:"outlined",style:{cursor:"pointer"}},c.a.createElement(C.a,null,c.a.createElement(S.a,{style:{minHeight:"200px"},onClick:o},c.a.createElement(S.a,{className:t.title,align:"center"},u,c.a.createElement(S.a,{style:{position:"relative",height:"0px",right:"-45%",top:"15px"}},c.a.createElement(M.a,{onClick:i,size:"small"},c.a.createElement(y.a,null))),c.a.createElement(S.a,{style:{position:"relative",height:"0px",right:"-45%",top:"-25px",display:s?"block":"none"}},c.a.createElement(M.a,{onClick:function(e){e.stopPropagation(),x(e.currentTarget)},size:"small"},c.a.createElement(B.a,null)),c.a.createElement(L.a,{id:"long-menu",anchorEl:j,keepMounted:!0,open:O,onClose:v,PaperProps:{style:{maxHeight:216,width:"20ch"}}},c.a.createElement(z.a,{onClick:function(e){e.stopPropagation(),n(a),v(e)}}," \uc218\uc815 "),c.a.createElement(z.a,{onClick:function(e){e.stopPropagation(),l(a),v(e)}}," \uc0ad\uc81c ")))),c.a.createElement(U,{my:2}),c.a.createElement(K,{container:!0,mt:3},c.a.createElement(K,{item:!0,xs:4},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},"\ub178\ub4dc")),c.a.createElement(K,{item:!0,xs:8},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},d))),c.a.createElement(K,{container:!0,mt:1},c.a.createElement(K,{item:!0,xs:4},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},"\ub178\ub4dc \uc218")),c.a.createElement(K,{item:!0,xs:8},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},E?Number(E).toLocaleString():"-"))),c.a.createElement(K,{container:!0,mt:1},c.a.createElement(K,{item:!0,xs:4},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},"\uc778\ub371\uc2a4")),c.a.createElement(K,{item:!0,xs:8},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},p?Number(p).toLocaleString():"-"))),c.a.createElement(K,{container:!0,mt:1},c.a.createElement(K,{item:!0,xs:4},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},"\uc0e4\ub4dc")),c.a.createElement(K,{item:!0,xs:8},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},b?Number(b).toLocaleString():"-"))),c.a.createElement(K,{container:!0,mt:1},c.a.createElement(K,{item:!0,xs:4},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},"\uc0ac\uc6a9 \uc6a9\ub7c9")),c.a.createElement(K,{item:!0,xs:8},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},g))),c.a.createElement(K,{container:!0,mt:1},c.a.createElement(K,{item:!0,xs:4},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},"\ud0a4\ubc14\ub098")),c.a.createElement(K,{item:!0,xs:8},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},f))),c.a.createElement(K,{container:!0,mt:1},c.a.createElement(K,{item:!0,xs:4},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},"\uc0c9\uc0c1")),c.a.createElement(K,{item:!0,xs:8},c.a.createElement(S.a,{style:{display:"0"===h?"block":"none",backgroundColor:"rgb(27, 36, 48)",width:"16px",height:"16px",borderRadius:"90px"}}," "),c.a.createElement(S.a,{style:{display:"1"===h?"block":"none",backgroundColor:"rgb(255, 255, 255)",width:"16px",height:"16px",borderRadius:"90px"}}," "),c.a.createElement(S.a,{style:{display:"2"===h?"block":"none",backgroundColor:"rgb(25, 118, 210)",width:"16px",height:"16px",borderRadius:"90px"}}," "),c.a.createElement(S.a,{style:{display:"3"===h?"block":"none",backgroundColor:"rgb(56, 142, 60)",width:"16px",height:"16px",borderRadius:"90px"}}," "),c.a.createElement(S.a,{style:{display:"4"===h?"block":"none",backgroundColor:"rgb(57, 73, 171)",width:"16px",height:"16px",borderRadius:"90px"}}," "),c.a.createElement(S.a,{style:{display:"5"===h?"block":"none",backgroundColor:"rgb(0, 121, 107)",width:"16px",height:"16px",borderRadius:"90px"}}," "))),c.a.createElement(K,{container:!0,mt:1},c.a.createElement(K,{item:!0,xs:4},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},"\uc5f0\uacb0\uc0c1\ud0dc")),c.a.createElement(K,{item:!0,xs:8},c.a.createElement(S.a,{style:{whiteSpace:"nowrap"}},m?c.a.createElement(S.a,{component:"span",style:{color:"green"}},"\uc815\uc0c1"):c.a.createElement(S.a,{component:"span",style:{color:"red"}},"\uc2e4\ud328"))))))))}function X(e){var t=e.className,a=e.showButton?"block":"none";return c.a.createElement(c.a.Fragment,null,c.a.createElement(K,{item:!0,xs:12,md:6,lg:4,xl:3,style:{display:a}},c.a.createElement(G,{variant:"outlined",style:{minHeight:"269px"}},c.a.createElement(C.a,null,c.a.createElement(S.a,{display:"flex",justifyContent:"center",m:1,mt:10,className:t.title},"\uc2e0\uaddc \ud074\ub7ec\uc2a4\ud130 \ucd94\uac00"),c.a.createElement(S.a,{display:"flex",justifyContent:"center",m:2,mt:5},c.a.createElement(N.a,{color:"primary","aria-label":"add",onClick:function(){return e.handleClick()}},c.a.createElement(d.a,null)))))))}function Y(e){var t=e.className;return c.a.createElement(K,{item:!0,xs:12,md:6,lg:4,xl:3},c.a.createElement(G,{variant:"outlined",style:{minHeight:"269px"}},c.a.createElement(C.a,null,c.a.createElement(S.a,{display:"flex",justifyContent:"center",m:1,mt:15,className:t.title},j.a," \uc11c\ubc84\uc124\uce58\ubc29\ubc95"),c.a.createElement(S.a,{display:"flex",justifyContent:"center",m:3},c.a.createElement(W.a,{target:"_blank",href:"https://github.com/danawalab/dsearch-server/blob/master/README.md"},"\ubc14\ub85c\uac00\uae30")))))}t.default=Object(o.b)((function(e){return Object(n.a)(Object(n.a)({},e.clusterReducers),e.dsearchReducers)}))((function(e){var t=e.dispatch,a=e.clusterList,n=e.authUser,o=Q(),i=Object(g.a)(Object(s.a)().breakpoints.down("sm")),m=Object(l.useState)(!1),u=Object(r.a)(m,2),d=u[0],f=u[1],y=Object(l.useState)("http"),w=Object(r.a)(y,2),j=w[0],x=w[1],O=Object(l.useState)(""),v=Object(r.a)(O,2),C=v[0],N=v[1],W=Object(l.useState)(""),M=Object(r.a)(W,2),H=M[0],B=M[1],L=Object(l.useState)(""),z=Object(r.a)(L,2),_=z[0],F=z[1],G=Object(l.useState)(""),Z=Object(r.a)(G,2),$=Z[0],ee=Z[1],te=Object(l.useState)(""),ae=Object(r.a)(te,2),ne=ae[0],re=ae[1],le=Object(l.useState)(""),ce=Object(r.a)(le,2),oe=ce[0],ie=ce[1],se=Object(l.useState)(0),me=Object(r.a)(se,2),ue=me[0],de=me[1],he=Object(l.useState)(""),Ee=Object(r.a)(he,2),pe=Ee[0],be=Ee[1],ge=Object(l.useState)(!1),fe=Object(r.a)(ge,2),ye=fe[0],we=fe[1],ke=Object(l.useState)(!1),je=Object(r.a)(ke,2),xe=je[0],Oe=je[1],ve=Object(l.useState)(!1),Ce=Object(r.a)(ve,2),Se=Ce[0],Ne=Ce[1],We=Object(l.useState)(!1),Ae=Object(r.a)(We,2),De=Ae[0],Re=Ae[1],Te=Object(l.useState)(!1),Pe=Object(r.a)(Te,2),Me=Pe[0],He=Pe[1],Be=Object(l.useState)(!1),Le=Object(r.a)(Be,2),ze=Le[0],_e=Le[1],qe=Object(l.useState)(""),Ie=Object(r.a)(qe,2),Fe=Ie[0],Je=Ie[1],Ge=Object(l.useState)(!1),Ue=Object(r.a)(Ge,2),Ke=Ue[0],Qe=Ue[1],Ve=Object(l.useState)("ADD"),Xe=Object(r.a)(Ve,2),Ye=Xe[0],Ze=Xe[1],$e=Object(l.useState)(!1),et=Object(r.a)($e,2),tt=et[0],at=et[1];function nt(){at(!1),Ze("ADD"),Oe(!1),Ne(!1),Re(!1),He(!1),_e(!1),N(""),x("http"),B(""),F(""),ee(""),re(""),ie(""),de(0),be(""),we(!1),f(!d)}function rt(){Oe(!1),Ne(!1),Re(!1),He(!1),_e(!1)}function lt(){if(""===C)return Oe(!0),!1;if(""===H)return Ne(!0),!1;if(""===_||"0"===_)return Re(!0),!1;if("https"===j){if(""===$)return He(!0),!1;if(""===ne)return _e(!0),!1}return!!ye}function ct(e){Ze("EDIT"),console.log("edit",e),Oe(!1),Ne(!1),Re(!1),He(!1),_e(!1),d?(N(""),x("http"),B(""),F(""),ee(""),re(""),ie(""),de(0)):(Je(e.cluster.id),N(e.cluster.name),x(e.cluster.scheme),B(e.cluster.host),F(e.cluster.port),ee(e.cluster.username||""),re(e.cluster.password||""),ie(e.cluster.kibana||""),de(e.cluster.theme)),f(!d)}Object(l.useEffect)((function(){t(Object(q.f)())}),[]);var ot=n.role.manage;return c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{title:"\ud074\ub7ec\uc2a4\ud130"}),c.a.createElement(A.a,{variant:"h3",gutterBottom:!0,display:"inline"},"\ud074\ub7ec\uc2a4\ud130"),c.a.createElement(U,{my:6}),c.a.createElement(K,{container:!0,spacing:6},a.map((function(e){return c.a.createElement(V,{key:e.cluster.id,cluster:e,classes:o,onEditClick:function(){return ct(e)},onRemoveClick:function(){return t=e.cluster.id,Je(t),void Qe(!0);var t},to:function(){return function(e){var t=document.createElement("a");t.setAttribute("href","".concat(e,"/dashboard")),t.setAttribute("target","_blank"),document.body.appendChild(t),t.click()}(e.cluster.id)},newTo:function(t){return function(e,t){e.stopPropagation();var a=window.outerWidth,n=window.outerHeight;a=Math.ceil(a/2)<=1500?1500:Math.ceil(a/2),n=Math.ceil(n/2)<=900?900:Math.ceil(n/2),window.open("".concat(t,"/dashboard"),t,"location=no,directories=no,resizable=no,status=no,toolbar=no,menubar=no,left=".concat(window.outerWidth/5,",top=50,scrollbars=yes,width=").concat(a,",height=").concat(n))}(t,e.cluster.id)},showMenu:ot})})),c.a.createElement(X,{key:"add",className:o,handleClick:nt,showButton:ot}),c.a.createElement(Y,{key:"guide",className:o})),c.a.createElement(h.a,{fullScreen:i,open:d,onClose:nt,fullWidth:!0},c.a.createElement(b.a,null,"\ud074\ub7ec\uc2a4\ud130 ","ADD"===Ye?"\ucd94\uac00":"\uc218\uc815"),c.a.createElement(p.a,{"aria-setsize":500},c.a.createElement(K,{container:!0},c.a.createElement(K,{item:!0,xs:4},c.a.createElement(S.a,{align:"center",mt:2},"\uc774\ub984")),c.a.createElement(K,{item:!0,xs:8},c.a.createElement(D.a,{placeholder:"\uc6b4\uc601 \ud074\ub7ec\uc2a4\ud130",value:C,error:xe,onChange:function(e){return N(e.target.value)}}))),c.a.createElement(U,{my:3}),c.a.createElement(K,{container:!0},c.a.createElement(K,{item:!0,xs:4},c.a.createElement(S.a,{align:"center",mt:2},"\uc811\uc18d\uc815\ubcf4")),c.a.createElement(K,{item:!0,xs:8},c.a.createElement(S.a,null,c.a.createElement(R.a,{value:j,onChange:function(e){return x(e.target.value)},fullWidth:!0},c.a.createElement(T.a,{variant:"menu",value:"http"},"HTTP"),c.a.createElement(T.a,{variant:"menu",value:"https"},"HTTPS"))),c.a.createElement(S.a,{mt:2},c.a.createElement(D.a,{placeholder:"127.0.0.1",fullWidth:!0,value:H,error:Se,onChange:function(e){return B(e.target.value)}})),c.a.createElement(S.a,{mt:2},c.a.createElement(D.a,{placeholder:"9200",fullWidth:!0,type:"number",value:_,error:De,onChange:function(e){return F(e.target.value)}})),c.a.createElement(S.a,{display:"http"===j?"none":"block"},c.a.createElement(S.a,{mt:2},c.a.createElement(D.a,{placeholder:"elastic",fullWidth:!0,error:Me,value:$,onChange:function(e){return ee(e.target.value)}})),c.a.createElement(S.a,{mt:2},c.a.createElement(D.a,{type:"password",placeholder:"********",fullWidth:!0,error:ze,value:ne,onChange:function(e){return re(e.target.value)}}))))),c.a.createElement(U,{my:3}),c.a.createElement(K,{container:!0},c.a.createElement(K,{item:!0,xs:4},c.a.createElement(S.a,{align:"center",mt:2},"\ud0a4\ubc14\ub098")),c.a.createElement(K,{item:!0,xs:8},c.a.createElement(S.a,null,c.a.createElement(D.a,{placeholder:"http://kibana:5601",fullWidth:!0,value:oe,onChange:function(e){return ie(e.target.value)}})))),c.a.createElement(K,{container:!0},c.a.createElement(K,{item:!0,xs:4},c.a.createElement(S.a,{align:"center",mt:4},"\uc0c9\uc0c1")),c.a.createElement(K,{item:!0,xs:8},c.a.createElement(S.a,{mt:2},c.a.createElement(R.a,{value:ue,onChange:function(e){return de(e.target.value)},style:{width:"100%"}},c.a.createElement(T.a,{value:0,style:{width:"100%",backgroundColor:"rgb(27, 36, 48)"}},c.a.createElement(S.a,{style:{width:"100%",backgroundColor:"rgb(27, 36, 48)",color:"white"}}," Dark ")),c.a.createElement(T.a,{value:1,style:{width:"100%",backgroundColor:"rgb(255, 255, 255)",color:"black"}},c.a.createElement(S.a,{style:{width:"100%",backgroundColor:"rgb(255, 255, 255)",color:"black"}}," Light ")),c.a.createElement(T.a,{value:2,style:{width:"100%",backgroundColor:"rgb(25, 118, 210)",color:"white"}},c.a.createElement(S.a,{style:{width:"100%",backgroundColor:"rgb(25, 118, 210)",color:"white"}}," Blue ")),c.a.createElement(T.a,{value:3,style:{width:"100%",backgroundColor:"rgb(56, 142, 60)",color:"white"}},c.a.createElement(S.a,{style:{width:"100%",backgroundColor:"rgb(56, 142, 60)",color:"white"}}," Green ")),c.a.createElement(T.a,{value:4,style:{width:"100%",backgroundColor:"rgb(57, 73, 171)",color:"white"}},c.a.createElement(S.a,{style:{width:"100%",backgroundColor:"rgb(57, 73, 171)",color:"white"}}," Indigo ")),c.a.createElement(T.a,{value:5,style:{width:"100%",backgroundColor:"rgb(0, 121, 107)",color:"white"}},c.a.createElement(S.a,{style:{width:"100%",backgroundColor:"rgb(0, 121, 107)",color:"white"}}," Teal ")))))),c.a.createElement("br",null),c.a.createElement(S.a,{display:""===pe?"none":"block"},pe)),c.a.createElement(E.a,null,c.a.createElement(P.a,{variant:"outlined",color:"primary",onClick:function(){we(!1),be(""),t(Object(q.h)({name:C,host:H,port:_,scheme:j,username:$,password:ne})).then((function(e){if(!e.connection)return we(!1),void be("\uc5f0\uacb0 \uc2e4\ud328");we(!0);var t=Object.values(e.nodes).map((function(e){var t=e.http||e.http||{};return t.publish_address?"".concat(j,"://").concat(t.publish_address):null})).filter((function(e){return null!==e})).length;be("[\uc5f0\uacb0 \uc131\uacf5] \ub178\ub4dc \uc218:"+t)})).catch((function(e){we(!1),be(""),be("\uc5f0\uacb0 \uc2e4\ud328"),console.error(e)}))}}," \uc5f0\uacb0\ud14c\uc2a4\ud2b8 "),c.a.createElement(P.a,{variant:"outlined",color:"primary",style:{color:"#EE0000"},onClick:function(){var e="";e=oe.startsWith("http://")||oe.startsWith("https://")?oe+"/api/status":"http://"+oe+"/api/status",J.a.get("".concat(e),{timeout:3e3}).then((function(e){var t=e.data;console.log("status: ",t),"green"===t.status.overall.state?be("[\uc5f0\uacb0 \uc131\uacf5] \ud0a4\ubc14\ub098 "):be("[\uc5f0\uacb0 \uc2e4\ud328] \ud0a4\ubc14\ub098 \uc0c1\ud0dc \ubd88\uc548\uc815")})).catch((function(e){e.response?(console.log("data: ",e.response.data),console.log("status: ",e.response.status),console.log("header: ",e.response.headers),be(""),be("[\uc5f0\uacb0 \uc131\uacf5] \ud0a4\ubc14\ub098")):e.request?(console.log("req: ",e.request),be(""),be("[\uc5f0\uacb0 \uc131\uacf5] \ud0a4\ubc14\ub098")):(be(""),be("[\uc5f0\uacb0 \uc2e4\ud328] \ud0a4\ubc14\ub098"),console.log("Error",e.message))}))}}," \ud0a4\ubc14\ub098\ud14c\uc2a4\ud2b8 "),c.a.createElement(S.a,{display:"ADD"===Ye?"block":"none"},c.a.createElement(P.a,{color:"primary",variant:"contained",disabled:!ye||tt,onClick:function(){if(at(!0),rt(),!lt())return!1;t(Object(q.a)({name:C,host:H,port:_,scheme:j,username:$,password:ne,kibana:oe,theme:ue})).then((function(e){at(!1),t(Object(q.f)()),nt()})).catch((function(e){at(!1),console.log(e),be(e.message||"error"),alert("\uc2e4\ud328")}))}},"\ucd94\uac00")),c.a.createElement(S.a,{display:"EDIT"===Ye?"block":"none"},c.a.createElement(P.a,{color:"primary",variant:"contained",disabled:!ye,onClick:function(){if(rt(),!lt())return!1;t(Object(q.b)(Fe,{name:C,host:H,port:_,scheme:j,username:$,password:ne,kibana:oe,theme:ue})).then((function(e){t(Object(q.f)()),ct()})).catch((function(e){console.log(e),be(e.message||"error"),alert("\uc2e4\ud328")}))}},"\uc800\uc7a5")),c.a.createElement(P.a,{onClick:nt,variant:"contained"},"\ucde8\uc18c"))),c.a.createElement(h.a,{open:Ke,fullWidth:!0},c.a.createElement(b.a,null,"\ud074\ub7ec\uc2a4\ud130 \uc0ad\uc81c"),c.a.createElement(p.a,null,c.a.createElement(S.a,{style:{color:I.a[500]}}," \uc120\ud0dd\ud558\uc2e0 \ud074\ub7ec\uc2a4\ud130 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? ")),c.a.createElement(E.a,null,c.a.createElement(P.a,{style:{backgroundColor:I.a[200]},variant:"contained",onClick:function(){t(Object(q.e)(Fe)).then((function(e){t(Object(q.f)()),Je(""),Qe(!1)})).catch((function(e){console.log(e),alert("\uc2e4\ud328")}))}},"\uc0ad\uc81c"),c.a.createElement(P.a,{onClick:function(){return Qe(!1)},variant:"contained"},"\ucde8\uc18c"))))}))}}]);
//# sourceMappingURL=68.74021ed7.chunk.js.map