(this["webpackJsonpdsearch-console"]=this["webpackJsonpdsearch-console"]||[]).push([[69],{994:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(61),o=a(16),c=a(0),l=a.n(c),s=a(39),i=a(14),u=a(134),m=a.n(u),h=a(346),b=a(218),g=a(618),p=a(99),d=a(755),f=a(698),E=a(754),v=a(740),O=a(716),j=a(665),S=a(588),y=a(112),C=a(4);function w(){var e=Object(o.a)(["\n  padding: ","px;\n\n  "," {\n    padding: ","px;\n  }\n"]);return w=function(){return e},e}var k=Object(i.c)(h.a)(S.a),x=Object(i.c)(b.a)(w(),(function(e){return e.theme.spacing(6)}),(function(e){return e.theme.breakpoints.up("md")}),(function(e){return e.theme.spacing(10)}));t.default=Object(s.b)((function(e){return Object(n.a)({},e.dsearchReducers)}))((function(e){var t=e.dispatch,a=Object(c.useState)(""),n=Object(r.a)(a,2),o=n[0],s=n[1],i=Object(c.useState)(!1),u=Object(r.a)(i,2),h=u[0],b=u[1],S=Object(c.useState)(""),w=Object(r.a)(S,2),I=w[0],W=w[1],F=Object(c.useState)(""),J=Object(r.a)(F,2),q=J[0],R=J[1],z=Object(c.useState)(!1),A=Object(r.a)(z,2),B=A[0],K=A[1],N=Object(c.useState)(!1),U=Object(r.a)(N,2),_=U[0],L=U[1];function T(){localStorage.removeItem(C.t),0!==I.length&&0!==q.length?(K(!1),D(o,I,q)):K(!0)}function D(e,a,n){e.startsWith("https://")||e.startsWith("http://")||(e="http://"+e),sessionStorage.setItem(C.u,e),t(Object(y.d)({server:e,email:a,password:n})).then((function(t){console.log("sign in success"),K(!1),_&&localStorage.setItem(C.t,JSON.stringify({hash1:_,hash2:btoa(btoa(btoa(e))),hash3:btoa(btoa(btoa(a))),hash4:btoa(btoa(btoa(n)))})),location.replace("/cluster")})).catch((function(e){K(!0),console.log(e)}))}return Object(c.useEffect)((function(){var e=localStorage.getItem(C.u),a=JSON.parse(localStorage.getItem(C.t)||"{}");t(Object(y.b)()).then((function(e){console.log("authenticated"),sessionStorage.setItem(C.u,localStorage.getItem(C.u)),location.replace("/cluster")})),a.hash1&&(console.log("auto login"),L(a.hash1),D(atob(atob(atob(a.hash2))),atob(atob(atob(a.hash3))),atob(atob(atob(a.hash4))))),e&&s(e)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null,l.a.createElement(m.a,{title:"\ub85c\uadf8\uc778"}),l.a.createElement(g.a,{align:"center"},l.a.createElement("img",{alt:"dsearch",src:"/static/img/dsearch/danawa_m_login.png"})),l.a.createElement(g.a,{style:{marginTop:"12px"}},l.a.createElement(p.a,{style:{fontSize:"1.45rem"},component:"h1",variant:"h4",align:"center",gutterBottom:!0},"\ub85c\uadf8\uc778")),l.a.createElement("form",null,l.a.createElement(d.a,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(f.a,{htmlFor:"server"},"\uc11c\ubc84"),l.a.createElement(E.a,{id:"server",name:"server",autoComplete:"server",autoFocus:!0,value:o,onChange:function(e){return s(e.target.value)},onBlur:function(){if(0!==o.length){var e=o;o.startsWith("http")||(e="http://"+o),t(Object(y.c)(e)).then((function(e){b(!e)})).catch((function(e){return b(!0)}))}else b(!0)},error:h})),l.a.createElement(d.a,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(f.a,{htmlFor:"server"},"\uc774\uba54\uc77c"),l.a.createElement(E.a,{id:"email",name:"email",autoComplete:"email",value:I,onChange:function(e){return W(e.target.value)},error:B,onKeyUp:function(e){return 13===e.keyCode?T():null}})),l.a.createElement(d.a,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(f.a,{htmlFor:"password"},"\ube44\ubc00\ubc88\ud638"),l.a.createElement(E.a,{name:"password",type:"password",id:"password",autoComplete:"current-password",value:q,onChange:function(e){return R(e.target.value)},error:B,onKeyUp:function(e){return 13===e.keyCode?T():null}})),l.a.createElement(v.a,{control:l.a.createElement(O.a,{color:"primary",checked:_,onChange:function(){return L(!_)}}),label:"\ub85c\uadf8\uc778 \uc800\uc7a5"}),l.a.createElement(j.a,{container:!0},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(g.a,null,l.a.createElement(k,{fullWidth:!0,variant:"contained",color:"primary",mb:2,onClick:T},"\ub85c\uadf8\uc778"))))),l.a.createElement(g.a,{style:{position:"relative",top:"60px",height:"0px",textAlign:"center",fontSize:"0.8em"}},"\xa9 2020. danawa Co., Ltd. All Rights Reserved.")))}))}}]);
//# sourceMappingURL=69.e7207588.chunk.js.map